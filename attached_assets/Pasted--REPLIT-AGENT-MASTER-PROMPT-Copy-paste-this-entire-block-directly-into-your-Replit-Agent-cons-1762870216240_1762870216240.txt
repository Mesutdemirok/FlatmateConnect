


âš™ï¸ REPLIT AGENT MASTER PROMPT

(Copyâ€“paste this entire block directly into your Replit Agent console)

â¸»

ðŸ§© Prompt to Replit Agent

Objective:
Restructure and clean the Odanet project into a professional monorepo that supports:
	â€¢	Laravel backend (API)
	â€¢	Next.js frontend (website)
	â€¢	Expo React Native mobile app (mobile client)
	â€¢	Shared API SDK between them
	â€¢	Clean, minimal directory tree with no redundant documentation or logs

â¸»

1. Create new monorepo structure

# Ensure root directory exists
mkdir -p odanet

# Move existing web and backend projects into subfolders
mv frontend odanet/frontend-web || true
mv backend odanet/backend || true

# Create new mobile app folder
mkdir -p odanet/mobile-app


â¸»

2. Initialize shared environment file

cat > odanet/.env.shared << 'EOF'
# Shared Environment Variables for all apps
API_BASE_URL=https://api.odanet.com.tr
EOF

Then update:
	â€¢	odanet/frontend-web/.env.local

NEXT_PUBLIC_API_URL=$API_BASE_URL


	â€¢	odanet/mobile-app/.env

EXPO_PUBLIC_API_URL=$API_BASE_URL



â¸»

3. Create a shared SDK (for API calls)

mkdir -p odanet/packages/odanet-api
cat > odanet/packages/odanet-api/index.ts << 'EOF'
import axios from "axios";

const api = axios.create({
  baseURL: process.env.API_BASE_URL || "https://api.odanet.com.tr",
});

export const login = (email: string, password: string) =>
  api.post("/auth/login", { email, password });

export const getListings = () => api.get("/listings");

export const getMessages = () => api.get("/messages/conversations");

export default api;
EOF


â¸»

4. Initialize the mobile app (Expo)

cd odanet
npx create-expo-app mobile-app
cd mobile-app
npm install nativewind axios react-navigation

Then inside mobile-app/app.json, set:

{
  "expo": {
    "name": "Odanet Mobile",
    "slug": "odanet-mobile",
    "extra": {
      "EXPO_PUBLIC_API_URL": "https://api.odanet.com.tr"
    }
  }
}


â¸»

5. Clean and organize repository

Remove unnecessary clutter â€” keep only code, configs, and essential docs:

# Remove temporary and documentation-only files
rm -rf odanet/docs || true
rm -rf node_modules || true
rm -rf .replit.bak || true
rm -rf *.log || true
rm -rf old_* || true
rm -rf README.old.md || true
rm -rf temp/ || true
rm -rf uploads/test/ || true

# Keep important project docs
find . -type f \( -name "PROJECT_OVERVIEW.md" -o -name "TECHNICAL_SPECS.md" -o -name "DEVELOPMENT_GUIDE.md" -o -name "FEATURE_REQUIREMENTS.md" \) -prune -o -name "*.md" -delete


â¸»

6. Verify structure after cleanup

Expected result:

odanet/
â”œâ”€â”€ backend/                # Laravel API
â”œâ”€â”€ frontend-web/           # Next.js web app
â”œâ”€â”€ mobile-app/             # Expo React Native app
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ odanet-api/         # Shared API SDK
â””â”€â”€ .env.shared


â¸»

7. Final tasks
	â€¢	Make sure backend API runs with php artisan serve
	â€¢	Test frontend-web with npm run dev
	â€¢	Launch mobile-app with npx expo start
	â€¢	Both should connect successfully to the same API





8. Initialize and organize Git repository

cd odanet

# If a .git already exists, move it up and clean branches safely
if [ -d ".git" ]; then
  echo "Existing Git repo found. Cleaning up old branches..."
  git branch -m main || true
  git fetch origin || true
  git remote prune origin || true
else
  echo "No Git repo found. Initializing a new one..."
  git init
  git branch -m main
fi


â¸»

9. Create standard branch structure

# Stage everything and make a clean commit
git add .
git commit -m "chore: clean restructure of Odanet monorepo (backend, frontend, mobile-app)"

# Create new branches for workflow
git checkout -b staging
git checkout -b mobile
git checkout main


â¸»

10. Add remote origin (replace URL below)

git remote add origin https://github.com/<your-username>/odanet.git
git push -u origin main
git push origin staging
git push origin mobile


â¸»

11. Git ignore optimization

Replace or create .gitignore at the repo root:

cat > .gitignore << 'EOF'
# Node & PHP
node_modules/
vendor/
.env
.env.local
.env.shared
.env.*
npm-debug.log
yarn-error.log
composer.lock

# Build & Cache
.next/
dist/
coverage/
tmp/
temp/
.cache/
.DS_Store

# Expo
.expo/
.expo-shared/
*.expo

# IDE & Replit
.replit
*.swp
.vscode/
.idea/

# Others
uploads/
*.log
*.bak
EOF


â¸»

12. Final verification

git status
tree -L 2

Expected structure:

odanet/
â”œâ”€â”€ backend/
â”œâ”€â”€ frontend-web/
â”œâ”€â”€ mobile-app/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ odanet-api/
â””â”€â”€ .env.shared




ðŸ§© 13. Add Automated Verification Script

Purpose:
Confirm that backend (Laravel API), web (Next.js), and mobile (Expo) all connect to the same API endpoint and share the same base URL.

â¸»

Step 13.1 â€” Create the verification script

cat > odanet/verify-setup.js << 'EOF'
/**
 * Odanet Monorepo Verification Script
 * -----------------------------------
 * Verifies API connectivity for:
 * - Laravel backend
 * - Next.js frontend
 * - Expo mobile app
 */

import fetch from "node-fetch";
import fs from "fs";

const BACKEND_URL = process.env.API_BASE_URL || "http://localhost:8000/api";
const FRONTEND_URL = process.env.NEXT_PUBLIC_APP_URL || "http://localhost:3000";
const MOBILE_ENV_PATH = "./mobile-app/.env";

async function verifyAPI() {
  console.log("\nðŸ” Verifying Odanet System Connectivity...\n");

  // 1. Backend health check
  try {
    const res = await fetch(`${BACKEND_URL}/health`);
    if (res.ok) {
      console.log(`âœ… Backend API reachable at ${BACKEND_URL}`);
    } else {
      console.error(`âŒ Backend responded with status ${res.status}`);
    }
  } catch (err) {
    console.error(`âŒ Backend API not reachable: ${err.message}`);
  }

  // 2. Frontend .env check
  try {
    const frontendEnv = fs.readFileSync("./frontend-web/.env.local", "utf-8");
    const apiLine = frontendEnv.split("\n").find((l) => l.includes("NEXT_PUBLIC_API_URL"));
    console.log(`âœ… Frontend configured to use API: ${apiLine}`);
  } catch {
    console.warn("âš ï¸ Could not read frontend-web/.env.local");
  }

  // 3. Mobile .env check
  try {
    const mobileEnv = fs.readFileSync(MOBILE_ENV_PATH, "utf-8");
    const apiLine = mobileEnv.split("\n").find((l) => l.includes("EXPO_PUBLIC_API_URL"));
    console.log(`âœ… Mobile app configured to use API: ${apiLine}`);
  } catch {
    console.warn("âš ï¸ Could not read mobile-app/.env");
  }

  console.log("\nðŸ§© Verification Complete â€” Check logs above.\n");
}

verifyAPI();
EOF


â¸»

Step 13.2 â€” Add a run script to package.json (root)

If no root package.json exists yet:

cat > odanet/package.json << 'EOF'
{
  "name": "odanet-monorepo",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "verify": "node verify-setup.js"
  },
  "dependencies": {
    "node-fetch": "^3.3.2"
  }
}
EOF

Then run:

cd odanet
npm install


â¸»

Step 13.3 â€” Run Verification

After the full restructuring completes, run:

npm run verify

Expected output example:

ðŸ” Verifying Odanet System Connectivity...

âœ… Backend API reachable at http://localhost:8000/api
âœ… Frontend configured to use API: NEXT_PUBLIC_API_URL=https://api.odanet.com.tr
âœ… Mobile app configured to use API: EXPO_PUBLIC_API_URL=https://api.odanet.com.tr

ðŸ§© Verification Complete â€” Check logs above.


