Perfect ‚Äî here‚Äôs a single unified prompt you can safely copy-paste into your Replit Agent (or Agile developer portal).

It tells them exactly what to do ‚Äî restore your old production listings, fix the room + room-seeker URLs to use SEO slugs, and make sure all of it shows correctly on www.odanet.com.tr, not just Preview.

‚∏ª

‚úÖ Final Replit / Agile Prompt

Goal:
Fully restore all production listings (rooms + room seekers) on the live site www.odanet.com.tr, enable SEO-friendly slugs for both, and make sure old ID URLs keep working (301 redirects).

All fixes must be applied on the production database and reflected on the live domain ‚Äî not just Replit Preview.

‚∏ª

üß© Tasks to Perform (step-by-step)

1. Restore old production data
	‚Ä¢	The old room listings and room-seeker profiles that appeared before the last slug update are missing from the live site.
	‚Ä¢	Retrieve all those records from the production database backup or any persisted Replit storage.
	‚Ä¢	Restore them into the active listings and seekers tables, preserving their original IDs, images, and relationships.

‚úÖ After restoration, visiting /api/listings and /api/seekers on www.odanet.com.tr must return the full arrays of records (as before).

‚∏ª

2. Implement proper SEO-friendly slugs

Use the following shared utility:

import slugify from "slugify";
import { customAlphabet } from "nanoid";

const nanoid = customAlphabet("0123456789abcdefghijklmnopqrstuvwxyz", 6);

export function makeSlug(parts: (string | undefined | null)[]) {
  const base = parts
    .filter(Boolean)
    .map((p) => String(p).trim())
    .join(" ");
  const core = slugify(base, { lower: true, strict: true, locale: "tr" }).replace(/-+/g, "-");
  return `${core}-${nanoid()}`;
}

	‚Ä¢	Each room listing gets:
slug = makeSlug([title, district, city])
	‚Ä¢	Each room seeker gets:
slug = makeSlug([firstName, district, city])

Update DB schema if needed to include a non-nullable slug column for both entities.

Run a backfill script to auto-generate slugs for existing rows.

‚∏ª

3. Add new slug endpoints (keep old IDs working)

Backend routes to add or confirm:

// Slug endpoints
GET /api/listings/slug/:slug
GET /api/seekers/slug/:slug

// Legacy ID redirects
GET /oda-ilani/:id        ‚Üí 301 ‚Üí /oda-ilani/:slug
GET /oda-arayan/:id       ‚Üí 301 ‚Üí /oda-arayan/:slug

Ensure all old links redirect properly.

‚∏ª

4. Update frontend navigation + routing
	‚Ä¢	Update all cards and detail pages to use the new slug URLs:
	‚Ä¢	Rooms ‚Üí /oda-ilani/${listing.slug}
	‚Ä¢	Seekers ‚Üí /oda-arayan/${seeker.slug}
	‚Ä¢	Add new routes:

/oda-ilani/:slug
/oda-arayan/:slug


	‚Ä¢	Keep a fallback so if a user visits the old ID route, it fetches by ID once and navigates to the slug route.

‚úÖ Homepage must again show full list of room listings.
‚úÖ Room seeker cards must link correctly.
‚úÖ Both detail pages must load using slug.

‚∏ª

5. Verify live production (not Preview)
	‚Ä¢	The changes must deploy to www.odanet.com.tr, not remain in Preview.
	‚Ä¢	Confirm the deployment target uses the same code branch and build command as Preview (npm run build).
	‚Ä¢	Re-publish deployment so live and Preview are identical.
	‚Ä¢	Clear cache and confirm data appears.

‚∏ª

6. Quality checks before finishing

‚úÖ Homepage lists all old rooms again.
‚úÖ Room seeker profiles appear again.
‚úÖ Visiting /oda-ilani/:id redirects to /oda-ilani/:slug.
‚úÖ Visiting /oda-arayan/:id redirects to /oda-arayan/:slug.
‚úÖ www.odanet.com.tr and Replit Preview show identical data.
‚úÖ /api/listings and /api/seekers both return populated arrays.
‚úÖ SEO meta and OG tags remain unchanged.

‚∏ª

7. Deliverables

When complete, provide a short note with:
	‚Ä¢	List of changed files (server + client)
	‚Ä¢	Confirmation that data has been restored to production
	‚Ä¢	Example working slug URLs for both a listing and a seeker

‚∏ª

‚ö†Ô∏è Important

If they claim the job is done but you still don‚Äôt see listings on the live domain, ask them to prove:
	‚Ä¢	curl https://www.odanet.com.tr/api/listings ‚Üí returns JSON with records
	‚Ä¢	At least one slug URL like
https://www.odanet.com.tr/oda-ilani/nisantasi-ferah-daire-istanbul-abc123
loads correctly.

‚∏ª

When you paste this prompt, Agile or your Replit Agent will have exact, verifiable instructions ‚Äî no ambiguity, no partial fixes.
Would you like me to also prepare the follow-up verification script (a small Node script to check listings, seekers, and redirects automatically)?