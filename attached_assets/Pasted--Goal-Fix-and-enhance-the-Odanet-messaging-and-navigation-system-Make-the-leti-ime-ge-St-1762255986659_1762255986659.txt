

ğŸ¯ Goal
Fix and enhance the Odanet messaging and navigation system:
* Make the â€œÄ°letiÅŸime geÃ§â€ (Start Chat) button actually open an active conversation window.
* Prevent pages from opening scrolled to the bottom.
* Ensure smooth navigation between message list and chat windows.
* Improve the overall user experience to match Instagram-style direct messaging.

âœ… Tasks
1. Messaging Activation Fix
* When user clicks â€œÄ°letiÅŸime geÃ§â€, route to /messages/[userId] and automatically:
    * Check login state.
        * If not logged in â†’ redirect to login, then return to the same conversation.
    * Fetch messages via GET /api/messages/conversation/{userId}.
    * If conversation exists â†’ display messages.
    * If no messages â†’ show placeholder text:â€¨"HenÃ¼z mesaj yok, ilk mesajÄ± gÃ¶nderin."
    * Always display a working MessageInput component for immediate sending.
2. UI / UX Update
Rebuild the chat interface like Instagram Direct:
* Header shows profile photo, name, last active.
* Message bubbles aligned left/right with rounded corners.
* Gray timestamp text under each message.
* Seen/read indicator (âœ” or double-check).
* Sticky bottom input bar with emoji + send icon.
* Typing indicator (â€œyazÄ±yor...â€) animation.
* Full-width chat view on mobile, auto-scroll to newest message.
3. Navigation & State Handling
* Fix routing between:
    * /messages (conversation list)
    * /messages/[userId] (chat window)
* Persist state with AuthContext and useMessages() hook.
* Donâ€™t reset the entire app state when navigating.
* On login redirect back to /messages/[userId] automatically.
4. Page Scroll Behavior
* Currently pages open from the bottom â€” fix by adding:â€¨useEffect(() => {
*   window.scrollTo({ top: 0, behavior: "smooth" });
* }, []);
* â€¨inside layout.tsx or globally after route changes (router.events.on('routeChangeComplete', ...)).
5. Component Organization
* Update or create:
    * MessagesList.tsx â†’ show all conversations.
    * ChatWindow.tsx â†’ handle a single conversation.
    * MessageInput.tsx â†’ for sending new messages.
* Ensure responsive design (Tailwind + mobile-first).
6. Testing & Validation
* Test login â†’ conversation start â†’ message send flow.
* Confirm navigation back to message list.
* Ensure scroll position starts at top on every new page load.

ğŸ§© Expected Outcome
âœ… â€œÄ°letiÅŸime geÃ§â€ opens an active chat window.â€¨âœ… Messages load correctly or show a â€œno messages yetâ€ state.â€¨âœ… Input field is active and sends instantly.â€¨âœ… Pages open from the top (no bottom scroll).â€¨âœ… Messaging layout is modern, mobile-optimized, and seamless.

