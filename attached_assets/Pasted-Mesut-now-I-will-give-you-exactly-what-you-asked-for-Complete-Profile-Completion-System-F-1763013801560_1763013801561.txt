Mesut â€” now I will give you exactly what you asked for:

âœ”ï¸ Complete Profile Completion System

âœ”ï¸ Full â€œMy Listingsâ€ overhaul (edit, delete, status update)

âœ”ï¸ Missing functionality (professional-grade UX)

âœ”ï¸ Full updated prompt for Agent (Replit AI) so it will implement EVERYTHING automatically

âœ”ï¸ Coordinated, corrected Next.js + Node backend structure

âœ”ï¸ Clean, production-standard architecture for Odanet web

This will fix all your structural gaps and bring the system to a professional housing-platform standard (SpareRoom, Flatmate, Idealista-level).

â¸»

âœ… PART 1 â€” Professional Profile Completion System

This is the modern roommate marketplace standard: SpareRoom, Badi, and Flatmate all use it.

We implement a profile completion score based on:

Required

Field	Weight
Profile photo	30%
First & last name	10%
Phone number	10%
Bio (HakkÄ±mda)	10%

Strongly recommended

Field	Weight
City / Location	10%
Gender	10%
Age / date of birth	5%
Occupation	5%
Lifestyle preferences	10%

This gives a total of 100 points.

Users must reach â‰¥ 60% before they can create listings.

ğŸ”¥ Backend: Add this function (Node)

Create file:
server/utils/profileScore.ts

export function calculateProfileScore(user: any) {
  let score = 0;

  if (user.profile_image) score += 30;
  if (user.first_name && user.last_name) score += 10;
  if (user.phone) score += 10;
  if (user.bio) score += 10;

  if (user.city) score += 10;
  if (user.gender) score += 10;
  if (user.date_of_birth) score += 5;
  if (user.occupation) score += 5;

  if (user.preferences_complete) score += 10;

  return score;
}


â¸»

ğŸ”¥ PART 2 â€” Block Listings Until Profile Score â‰¥ 60%

In:

server/routes/listings.ts

Add:

import { calculateProfileScore } from "../utils/profileScore";

const score = calculateProfileScore(req.user);

if (score < 60) {
  return res.status(422).json({
    success: false,
    message: "Profiliniz %60 tamamlanmadan ilan oluÅŸturamazsÄ±nÄ±z.",
    score,
  });
}

Same block for:

server/routes/seekers.ts


â¸»

ğŸ”¥ PART 3 â€” API Must Return profile_score Everywhere

In:

server/auth.ts

Add:

import { calculateProfileScore } from "./utils/profileScore";

return res.json({
  success: true,
  data: {
    user: {
      ...user,
      profile_score: calculateProfileScore(user),
    },
  },
});

Frontend automatically receives:

user.profile_score


â¸»

ğŸ”¥ PART 4 â€” Frontend UI Integration

In profile page:

Add a progress bar:

<div className="w-full bg-gray-200 rounded-full h-3 mb-4">
  <div
    className="bg-amber-600 h-3 rounded-full transition-all"
    style={{ width: `${user.profile_score}%` }}
  />
</div>

<p className="text-sm text-muted-foreground">
  Profil Tamamlanma: {user.profile_score}%
</p>


â¸»

ğŸ”¥ PART 5 â€” Complete â€œMy Listingsâ€ System

Users must see:

âœ”ï¸ All listings

âœ”ï¸ Edit listing

âœ”ï¸ Delete listing

âœ”ï¸ Status: Active / Paused / Rented

âœ”ï¸ Listing views

âœ”ï¸ Thumbnail

âœ”ï¸ Created date

Backend: new API routes

GET    /api/my-listings
PUT    /api/listings/:id
DELETE /api/listings/:id
PUT    /api/listings/:id/status

Node code:

In server/routes/listings.ts add:

router.get("/my-listings", authMiddleware, async (req, res) => {
  const listings = await db.listing.findMany({
    where: { user_id: req.user.id },
    include: {
      images: { take: 1 },
    },
    orderBy: { created_at: "desc" },
  });

  return res.json({ success: true, data: listings });
});


â¸»

ğŸ”¥ PART 6 â€” Upgrade Profile Page UX (Professional Standard)

You asked:

â€œWhat would be the best profile update? Feel free to edit professionally.â€

Here are the website-level changes that all major roommate platforms use:

1. Add sections:
	â€¢	General Info
	â€¢	Room Preferences
	â€¢	Lifestyle Details
	â€¢	Verification (future)

2. Add fields:
	â€¢	Age
	â€¢	Gender
	â€¢	Occupation
	â€¢	City
	â€¢	Preferences:
	â€¢	Smoking
	â€¢	Pets
	â€¢	Cleanliness level
	â€¢	Social level
	â€¢	Work schedule

3. Add â€œProfile Previewâ€ mode

Users see exactly how their profile appears to others.

4. Add identity verification (future)

â¸»

ğŸ”¥ PART 7 â€” FINAL: Agent Prompt (Full Replit Agent Instruction)

Mesut â€” this is what you will copy/paste into the Replit Agent.
It contains everything required for the agent to implement in your project automatically:

â¸»

ğŸš€ AGENT PROMPT â€” IMPLEMENT COMPLETE PROFILE SYSTEM + LISTING FIXES (COPY/PASTE THIS INTO AGENT)

TASK:
Upgrade the Odanet website backend + frontend with a professional profile system, listing management system, and required logic.

ACTIONS TO PERFORM:

â¸»

1. Implement profile completion system

Backend (server)
	â€¢	Create server/utils/profileScore.ts containing calculateProfileScore(user)
	â€¢	Add profile score logic to /api/auth/me response
	â€¢	In listing creation routes (server/routes/listings.ts and server/routes/seekers.ts), block users with score < 60%
	â€¢	Add missing profile fields to DB if not present

Frontend (frontend-web)
	â€¢	In profile page, add profile completion progress bar
	â€¢	Fetch and show user.profile_score

â¸»

2. Implement avatar upload system (website only)
	â€¢	Create server/routes/avatar.ts
	â€¢	Configure multer storage at public/avatars
	â€¢	Register route in server/routes/index.ts
	â€¢	Ensure Express serves static files: app.use("/avatars", express.static("public/avatars"))
	â€¢	Update user DB field profile_image

â¸»

3. Fix and complete My Listings page

Backend:
	â€¢	Add route: GET /api/my-listings
	â€¢	Return listings belonging to logged-in user with basic info + primary image
	â€¢	Add routes:
	â€¢	PUT /api/listings/:id
	â€¢	DELETE /api/listings/:id
	â€¢	PUT /api/listings/:id/status

Frontend:
	â€¢	In Profile > â€œÄ°lanlarÄ±mâ€, show:
	â€¢	thumbnail
	â€¢	title
	â€¢	rent
	â€¢	created date
	â€¢	edit button
	â€¢	delete button
	â€¢	status dropdown

â¸»

4. Improve profile update UX
	â€¢	In profile page add fields:
	â€¢	city
	â€¢	gender
	â€¢	date_of_birth
	â€¢	occupation
	â€¢	lifestyle preferences (pet, smoking, cleanliness, social level)
	â€¢	Save these fields via /api/users/me route
	â€¢	Sync frontend form with new fields

â¸»

5. Listing detail page must show owner profile image
	â€¢	Modify listing detail backend response to include:

user: {
   first_name,
   last_name,
   profile_image
}


	â€¢	Ensure frontend renders owner image at top of listing detail page.

â¸»

Ensure all code compiles and works end-to-end.

â¸»

END OF AGENT PROMPT

â¸»

Mesut â€” ready for agent now.

Just copy/paste the AGENT PROMPT into Replitâ€™s agent panel and let it run the implementation.

When done, return to me and say:

â€œNext step.â€

Iâ€™ll guide the next refinement quickly and professionally.