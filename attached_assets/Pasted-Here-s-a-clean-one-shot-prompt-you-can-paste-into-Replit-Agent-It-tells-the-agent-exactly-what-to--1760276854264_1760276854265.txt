Here’s a clean, one-shot prompt you can paste into Replit Agent. It tells the agent exactly what to build and how to wire it, all in Turkish, and matches your Odanet style and flows.

⸻

[COMMAND MODE]
Kod değişikliklerini şimdi uygula, build et ve Preview’da test et. Plan yazma; dosyaları düzenle, çalıştır, doğrula.

🎯 Amaç

Giriş + Üye Ol tek sayfa (sekme yapısı), Google ile giriş, Telefon/SMS OTP ile giriş, Şifremi Unuttum, E-posta doğrulama, başarı/hata mesajları Türkçe, giriş sonrası otomatik /profil yönlendirme. Tasarım Odanet’in mor gradyanına uygun, mobil öncelikli.

⸻

1) Rotalar ve Yönlendirmeler
	•	/giris → yeni birleşik sayfa (Giriş/Üye Ol sekmeli).
	•	/uye-ol → /giris?tab=signup’a kalıcı yönlendirme.
	•	Giriş/üye ol sonrası: daima /profil sayfasına yönlendir.
	•	Header/menüdeki mevcut linkleri koru (Türkçe URL’ler).

Router: client/src/pages/Auth.tsx (yeni)
Router register: /giris ve /uye-ol → Auth bileşeni (tab paramına göre aktif sekme).

⸻

2) Arayüz (Tek Sayfa, Sekmeli)

Dosya: client/src/pages/Auth.tsx
Tema: bg-gradient-to-b from-indigo-600 via-violet-600 to-fuchsia-600
Kart: bg-white/95 rounded-2xl shadow-2xl backdrop-blur border border-white/30 max-w-md mx-auto my-12 p-6 sm:p-8

Üst başlık
	•	“Odanet’e Hoş Geldiniz”
	•	Alt metin: “Gerçek profillerle güvenle eşleşin.”
	•	Sağ üst: “🏠 Ana Sayfa” → /

Sekmeler
	•	Giriş Yap | Üye Ol (tab tuşları)
	•	Mobilde tek sütun; form alanları geniş.

Giriş formu
	•	E-posta
	•	Şifre
	•	“Beni Hatırla” (opsiyonel)
	•	Buton: Giriş Yap
	•	Link: “Şifremi Unuttum?”

Sosyal/alternatif giriş:
	•	Google ile giriş (buton)
	•	Telefon ile giriş (buton → modal: Telefon Numarası → OTP gönder → OTP doğrula)

Üye Ol formu
	•	Ad Soyad
	•	E-posta
	•	Şifre
	•	Şifre Tekrar
	•	Buton: Üye Ol

⸻

3) Backend Uç Noktaları (server/)

Aşağıdaki REST uç noktalarını ekle/iyileştir ve JWT’yi httpOnly cookie ile yönet:
	•	POST /api/auth/register
	•	DB: isVerified=false, verificationToken, verificationTokenExpires(+24h).
	•	E-posta gönder: “Hesabınızı doğrulayın” (link: /api/auth/verify-email?token=...).
	•	POST /api/auth/login
	•	Hata kodları (bkz. Mesajlar). Başarılıysa cookie set et, {redirect:'/profil'} döndür.
	•	POST /api/auth/forgot-password
	•	resetToken, resetTokenExpires(+10m) üret; e-posta gönder: “Şifre sıfırlama bağlantınız” (link: /giris?tab=reset&token=...).
	•	POST /api/auth/reset-password (token + yeni şifre)
	•	GET  /api/auth/verify-email (token) → isVerified=true, token’ı temizle.
	•	Google OAuth: POST /api/auth/google
	•	Google token’ı doğrula → kullanıcıyı bul/oluştur → isVerified=true → cookie set → redirect.
	•	Telefon/SMS OTP (Twilio Verify veya Firebase Auth tercih et; Twilio öner):
	•	POST /api/auth/phone/request-otp { phone } → SMS gönder
	•	POST /api/auth/phone/verify-otp { phone, code } → doğrula → kullanıcıyı bul/oluştur → cookie set
	•	Sağlık: GET /api/health → { ok:true, version, env }

JWT cookie: secure:true (prod), sameSite:'lax', httpOnly:true.

⸻

4) E-posta Şablonları (Türkçe)
	•	Doğrulama (kayıt)
Konu: Odanet – E-posta Doğrulama
Metin: Merhaba {ad}, hesabınızı doğrulamak için tıklayın: {link} (24 saat geçerli).
	•	Şifre Sıfırlama
Konu: Odanet – Şifre Sıfırlama
Metin: Şifrenizi sıfırlamak için bağlantınız: {link} (10 dakika geçerli).

⸻

5) Hata / Başarı Mesajları (Tamamı Türkçe)

Giriş:
	•	Yanlış e-posta veya şifre girdiniz.
	•	Hesabınız doğrulama bekliyor. Lütfen e-postanızı kontrol edin.
	•	Sunucuya bağlanırken hata oluştu. Lütfen tekrar deneyin.

Üye Ol:
	•	Bu e-posta ile kayıt zaten mevcut.
	•	Şifre en az 8 karakter, bir büyük harf ve bir sayı içermeli.
	•	Şifreler eşleşmiyor.
	•	Başarı: Kayıt işlemi başarıyla tamamlandı. Lütfen e-postanızı doğrulayın.

Şifremi Unuttum / Sıfırla:
	•	Sıfırlama bağlantısı e-posta adresinize gönderildi.
	•	Geçersiz veya süresi dolmuş bağlantı. Lütfen tekrar isteyin.
	•	Başarı: Şifreniz güncellendi. Giriş yapabilirsiniz.

Telefon/OTP:
	•	Geçersiz doğrulama kodu.
	•	Kodun süresi doldu. Yeniden kod isteyin.

Google:
	•	Google doğrulaması başarısız. Lütfen tekrar deneyin.

⸻

6) Doğrulamalar
	•	Email format kontrolü.
	•	Şifre politikası (min 8, ≥1 büyük harf, ≥1 sayı).
	•	Telefon formatı (E.164).
	•	Tüm hataları kullanıcıya Türkçe göster.

⸻

7) Stil ve Bileşenler
	•	Butonlar: Odanet stili (mor gradyan), ghost/outline varyantları mevcut UI kit ile uyumlu.
	•	Sosyal butonlar: Google (logo), Telefon (📱 simgesi).
	•	Modallar: Telefon OTP akışı için.
	•	Mobil ilk: 360–414px genişlikte rahat kullanım.

⸻

8) Env Değerleri (replit Secrets)

JWT_SECRET=...
APP_BASE_URL=https://<your-repl>.replit.dev
EMAIL_FROM=info@odanet.com.tr
SMTP_HOST=...
SMTP_PORT=...
SMTP_USER=...
SMTP_PASS=...

# Google
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...

# Twilio (telefon OTP kullanacaksan)
TWILIO_ACCOUNT_SID=...
TWILIO_AUTH_TOKEN=...
TWILIO_VERIFY_SERVICE_SID=...


⸻

9) Test & Kabul Kriterleri (Preview’da doğrula)
	1.	/giris açılır, sekmeler çalışır; /uye-ol → /giris?tab=signup yönlendirir.
	2.	Yeni kayıt → doğrulama maili gelir → link tıklanınca isVerified=true.
	3.	Doğrulanmış kullanıcıyla giriş → otomatik /profil.
	4.	Şifremi Unuttum → mail gelir → token ile sıfırlama çalışır.
	5.	Google ile giriş sorunsuz cookie set eder ve /profile taşır.
	6.	Telefon ile giriş: numara → OTP → doğrula → giriş.
	7.	Tüm hata/success mesajları Türkçe görünür; konsolda hata yok.
	8.	Tasarım mobilde düzgün (iPhone 12/13/14 genişliği), masaüstünde ortalı, mor gradyan uyumlu.

⸻

10) Dosya Önerileri
	•	client/src/pages/Auth.tsx (yeni birleşik sayfa)
	•	client/src/hooks/useAuth.ts (gerekirse küçük güncellemeler)
	•	server/routes/auth.ts veya eşdeğeri (tüm uç noktalar)
	•	server/lib/email.ts (SMTP helper)
	•	server/lib/otp.ts (Twilio helper)

Bittiğinde:
	•	Preview linkiyle akışı göster,
	•	Env’lerin eksikse belirt,
	•	Kullanıcı test hesaplarıyla (dummy) doğruladığını yaz.

⸻

Bu komutu tek blok halinde gönder; ajan kodu uygulasın, test etsin ve sana çalışan /giris sayfasını versin.